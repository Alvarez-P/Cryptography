<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ejemplos | Cryptography</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="Cryptography docs">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="preload" href="/Cryptography/assets/css/0.styles.2d456e22.css" as="style"><link rel="preload" href="/Cryptography/assets/js/app.22d272a3.js" as="script"><link rel="preload" href="/Cryptography/assets/js/2.825ae8b6.js" as="script"><link rel="preload" href="/Cryptography/assets/js/36.ab8ad353.js" as="script"><link rel="prefetch" href="/Cryptography/assets/js/10.804e5e14.js"><link rel="prefetch" href="/Cryptography/assets/js/11.34c81609.js"><link rel="prefetch" href="/Cryptography/assets/js/12.aa263d88.js"><link rel="prefetch" href="/Cryptography/assets/js/13.6e47d446.js"><link rel="prefetch" href="/Cryptography/assets/js/14.2e555d7b.js"><link rel="prefetch" href="/Cryptography/assets/js/15.388c415c.js"><link rel="prefetch" href="/Cryptography/assets/js/16.d48d3380.js"><link rel="prefetch" href="/Cryptography/assets/js/17.ed1d3129.js"><link rel="prefetch" href="/Cryptography/assets/js/18.b599de31.js"><link rel="prefetch" href="/Cryptography/assets/js/19.fcc0e23d.js"><link rel="prefetch" href="/Cryptography/assets/js/20.e78d8e98.js"><link rel="prefetch" href="/Cryptography/assets/js/21.86930838.js"><link rel="prefetch" href="/Cryptography/assets/js/22.d90d6966.js"><link rel="prefetch" href="/Cryptography/assets/js/23.c03b39e7.js"><link rel="prefetch" href="/Cryptography/assets/js/24.7840f255.js"><link rel="prefetch" href="/Cryptography/assets/js/25.33f88d1b.js"><link rel="prefetch" href="/Cryptography/assets/js/26.14916053.js"><link rel="prefetch" href="/Cryptography/assets/js/27.5330986b.js"><link rel="prefetch" href="/Cryptography/assets/js/28.1a155559.js"><link rel="prefetch" href="/Cryptography/assets/js/29.dbd556cc.js"><link rel="prefetch" href="/Cryptography/assets/js/3.38143008.js"><link rel="prefetch" href="/Cryptography/assets/js/30.8c2d1760.js"><link rel="prefetch" href="/Cryptography/assets/js/31.2ffbf6d4.js"><link rel="prefetch" href="/Cryptography/assets/js/32.890dea00.js"><link rel="prefetch" href="/Cryptography/assets/js/33.afabae2d.js"><link rel="prefetch" href="/Cryptography/assets/js/34.b31143e3.js"><link rel="prefetch" href="/Cryptography/assets/js/35.daa1b78b.js"><link rel="prefetch" href="/Cryptography/assets/js/37.e5a4b588.js"><link rel="prefetch" href="/Cryptography/assets/js/38.6e9b0e0d.js"><link rel="prefetch" href="/Cryptography/assets/js/4.07e1c133.js"><link rel="prefetch" href="/Cryptography/assets/js/5.e653b66e.js"><link rel="prefetch" href="/Cryptography/assets/js/6.9afc2d45.js"><link rel="prefetch" href="/Cryptography/assets/js/7.1f3cd6ce.js"><link rel="prefetch" href="/Cryptography/assets/js/8.88b83e4f.js"><link rel="prefetch" href="/Cryptography/assets/js/9.132f6a6b.js">
    <link rel="stylesheet" href="/Cryptography/assets/css/0.styles.2d456e22.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Cryptography/" class="home-link router-link-active"><img src="https://www.aaaimx.org/software/logo.png" alt="Cryptography" class="logo"> <span class="site-name can-hide">Cryptography</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Cryptography/intro/" class="nav-link">
  Introducción
</a></div><div class="nav-item"><a href="/Cryptography/methods/" class="nav-link">
  Métodos de Cifrado
</a></div><div class="nav-item"><a href="/Cryptography/types/" class="nav-link router-link-active">
  Tipos de Cifrado
</a></div> <a href="https://github.com/alvarez98" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Cryptography/intro/" class="nav-link">
  Introducción
</a></div><div class="nav-item"><a href="/Cryptography/methods/" class="nav-link">
  Métodos de Cifrado
</a></div><div class="nav-item"><a href="/Cryptography/types/" class="nav-link router-link-active">
  Tipos de Cifrado
</a></div> <a href="https://github.com/alvarez98" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Tipos de Cifrado</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Cryptography/types/symmetric.html" class="sidebar-link">Cifrado simétrico</a></li><li><a href="/Cryptography/types/aes.html" class="sidebar-link">AES (Estándar de cifrado avanzado)</a></li><li><a href="/Cryptography/types/asymmetric.html" class="sidebar-link">Cifrado asimétrico</a></li><li><a href="/Cryptography/types/diffie-hellman.html" class="sidebar-link">Protocolo de intercambio de claves Diffie-Hellman</a></li><li><a href="/Cryptography/types/rsa.html" class="sidebar-link">RSA (criptosistema)</a></li><li><a href="/Cryptography/types/digital-signature.html" class="sidebar-link">Firma digital</a></li><li><a href="/Cryptography/types/examples.html" aria-current="page" class="active sidebar-link">Ejemplos</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Cryptography/types/examples.html#json-web-token-jwt" class="sidebar-link">JSON Web Token (JWT)</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ejemplos"><a href="#ejemplos" class="header-anchor">#</a> Ejemplos</h1> <h2 id="json-web-token-jwt"><a href="#json-web-token-jwt" class="header-anchor">#</a> JSON Web Token (JWT)</h2> <h3 id="¿que-es-el-token-web-json"><a href="#¿que-es-el-token-web-json" class="header-anchor">#</a> ¿Qué es el token web JSON?</h3> <p>JSON Web Token (JWT) es un estándar abierto (RFC 7519) que define una forma compacta y autónoma para transmitir información de forma segura entre las partes como un objeto JSON. Esta información puede ser verificada y confiable porque está firmada digitalmente. Los JWT se pueden firmar usando una clave secreta (con el algoritmo HMAC) o un par de claves pública / privada usando RSA o ECDSA.</p> <p>Aunque los JWT se pueden cifrar para proporcionar también secreto entre las partes, nos centraremos en los tokens firmados. Los tokens firmados pueden verificar la integridad de los reclamos que contiene, mientras que los tokens cifrados ocultan esos reclamos de otras partes. Cuando los tokens se firman utilizando pares de claves públicas/privadas, la firma también certifica que solo la parte que posee la clave privada es la que la firmó.</p> <div class="custom-block warning"><p class="custom-block-title">Nota</p> <p>JWT aún estando compuesto por varios algoritmos, es una encriptación simetrica</p></div> <h3 id="¿cuando-deberias-usar-json-web-tokens"><a href="#¿cuando-deberias-usar-json-web-tokens" class="header-anchor">#</a> ¿Cuándo deberías usar JSON Web Tokens?</h3> <p>Estos son algunos escenarios en los que los tokens web JSON son útiles:</p> <ul><li><p><strong>Autorización:</strong> Este es el escenario más común para usar JWT. Una vez que el usuario haya iniciado sesión, cada solicitud posterior incluirá el JWT, lo que le permitirá acceder a rutas, servicios y recursos que están permitidos con ese token. El inicio de sesión único es una característica que usa ampliamente JWT hoy en día, debido a su pequeña sobrecarga y su capacidad de usarse fácilmente en diferentes dominios.</p></li> <li><p><strong>Intercambio de información:</strong> Los tokens web JSON son una buena forma de transmitir información de manera segura entre las partes. Debido a que los JWT se pueden firmar, por ejemplo, utilizando pares de claves públicas / privadas, puede estar seguro de que los remitentes son quienes dicen ser. Además, como la firma se calcula utilizando el encabezado y la carga útil, también puede verificar que el contenido no haya sido alterado.</p></li></ul> <h3 id="¿cual-es-la-estructura-json-web-token"><a href="#¿cual-es-la-estructura-json-web-token" class="header-anchor">#</a> ¿Cuál es la estructura JSON Web Token?</h3> <p>En su forma compacta, JSON Web Tokens consta de tres partes separadas por puntos (.), que son:</p> <ol><li>Header</li> <li>Payload</li> <li>Signature</li></ol> <p>Por lo tanto, un JWT generalmente se parece a lo siguiente.</p> <div class="language- extra-class"><pre class="language-text"><code>xxxxx.yyyyy.zzzzz
</code></pre></div><h4 id="analicemos-las-diferentes-partes"><a href="#analicemos-las-diferentes-partes" class="header-anchor">#</a> Analicemos las diferentes partes.</h4> <p><strong>Header</strong></p> <p>El encabezado generalmente consta de dos partes: el tipo de token, que es JWT, y el algoritmo de firma que se utiliza, como HMAC SHA256 o RSA.</p> <div class="custom-block tip"><p class="custom-block-title">Ejemplo</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;alg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;HS256&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;typ&quot;</span><span class="token operator">:</span> <span class="token string">&quot;JWT&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Entonces, este JSON está codificado en Base64Url para formar la primera parte del JWT.</p></div> <p><strong>Payload</strong></p> <p>La segunda parte del token es la carga útil, que contiene los reclamos. Las reclamaciones son declaraciones sobre una entidad (generalmente, el usuario) y datos adicionales. Existen tres tipos de reclamaciones: <em>registradas, públicas y privadas</em>.</p> <ul><li>Reclamos registradas: se trata de un conjunto de reclamaciones predefinidas que no son obligatorias pero se recomiendan para proporcionar un conjunto de reclamaciones útiles e interoperables. Algunos de ellos son: iss (emisor), exp (tiempo de vencimiento), sub (tema), aud (audiencia) y otros.</li></ul> <p>Tenga en cuenta que los nombres de los reclamos tienen solo tres caracteres, ya que JWT debe ser compacto.</p> <ul><li><p>Reclamos públicos: los que usan JWT pueden definirlos a voluntad. Pero para evitar colisiones, deben definirse en el Registro de tokens web JSON de IANA o definirse como un URI que contiene un espacio de nombres resistente a colisiones.</p></li> <li><p>Reclamos privados: son los reclamos personalizados creados para compartir información entre las partes que acuerdan usarlos y no son reclamos registrados ni públicos.</p></li></ul> <div class="custom-block tip"><p class="custom-block-title">Ejemplo</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;sub&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1234567890&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;nombre&quot;</span><span class="token operator">:</span> <span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;admin&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><p>La carga útil se codifica luego en Base64Url para formar la segunda parte del JSON Web Token.</p></div> <p>Tenga en cuenta que para los tokens firmados, esta información, aunque protegida contra la manipulación, es legible por cualquier persona. No coloque información secreta en los elementos de carga o encabezado de un JWT a menos que esté encriptado.</p> <p><strong>Signature</strong></p> <p>Para crear la parte de la firma, debe tomar el encabezado codificado, la carga útil codificada, una clave secreta, el algoritmo especificado en el encabezado y firmarlo.</p> <div class="custom-block tip"><p class="custom-block-title">Ejemplo</p> <p>Si desea utilizar el algoritmo SHA256 de HMAC, la firma se creará de la siguiente manera:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">HMACSHA256</span> <span class="token punctuation">(</span>
  <span class="token function">base64UrlEncode</span> <span class="token punctuation">(</span>head<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;.&quot;</span> <span class="token operator">+</span>
  <span class="token function">base64UrlEncode</span> <span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token punctuation">,</span>
  clave
<span class="token punctuation">)</span>
</code></pre></div></div> <p>La firma se usa para verificar que el mensaje no se cambió en el camino y, en el caso de los tokens firmados con una clave privada, también puede verificar que el remitente del JWT es quien dice ser.</p> <h3 id="poniendo-todo-junto"><a href="#poniendo-todo-junto" class="header-anchor">#</a> Poniendo todo junto</h3> <p>El resultado son tres cadenas de URL Base64 separadas por puntos que se pueden pasar fácilmente en entornos HTML y HTTP, a la vez que son más compactas en comparación con los estándares basados ​​en XML como SAML.</p> <p>A continuación se muestra un JWT que tiene el encabezado y la carga útil anteriores codificados, y está firmado con una clave.</p> <center><img src="https://cdn.auth0.com/content/jwt/encoded-jwt3.png" width="500"></center></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Cryptography/types/digital-signature.html" class="prev">
        Firma digital
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/Cryptography/assets/js/app.22d272a3.js" defer></script><script src="/Cryptography/assets/js/2.825ae8b6.js" defer></script><script src="/Cryptography/assets/js/36.ab8ad353.js" defer></script>
  </body>
</html>
